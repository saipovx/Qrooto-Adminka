{"ast":null,"code":"import _slicedToArray from\"/home/t1/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/kuplatform/admin-stage/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link,useNavigate}from'react-router-dom';import r from'./Register.module.scss';import logo from'../img/logoReg.svg';import{useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Restoring(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var handleEmailChange=function handleEmailChange(e){setEmail(e.target.value);};var navigate=useNavigate();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),ErrorValid=_useState4[0],setErrorValid=_useState4[1];var apiUrl=process.env.REACT_APP_API_URL;var loginEndpoint='/api/auth/reset_password';var LoginRestoring=function LoginRestoring(e){e.preventDefault();axios.post(\"\".concat(apiUrl).concat(loginEndpoint),{email:email},{headers:{'Content-Type':'application/json'}}).then(function(res){console.log(res);if(res.request.status===200){navigate('/shipped');console.log(res);}else{navigate('/restoring');console.log(res);}}).catch(function(error){setErrorValid(true);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:r.section__register,children:/*#__PURE__*/_jsxs(\"div\",{className:r.register,children:[/*#__PURE__*/_jsx(\"img\",{src:logo,className:r.register__logo,alt:\"svg\"}),/*#__PURE__*/_jsx(\"p\",{className:r.register__subtitle,children:\"\\u0412\\u043E\\u0441\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430\"}),/*#__PURE__*/_jsxs(\"form\",{className:r.register__form,onSubmit:LoginRestoring,children:[/*#__PURE__*/_jsxs(\"label\",{className:r.register__form__label,children:[/*#__PURE__*/_jsx(\"p\",{className:r.register__form__label__title,children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",autoComplete:\"new-password\",className:ErrorValid?[r.register__form__label__input,r.register__form__label__input__error].join(' '):[r.register__form__label__input],onChange:handleEmailChange}),ErrorValid&&/*#__PURE__*/_jsx(\"p\",{className:r.strength__label,children:\"\\u041D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442 \\u0441 \\u0442\\u0430\\u043A\\u0438\\u043C email.\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:r.register__form__text,children:[\" \\u041D\\u0430 \\u043F\\u043E\\u0447\\u0442\\u0443 \\u043F\\u0440\\u0438\\u0434\\u0435\\u0442 \\u043F\\u0438\\u0441\\u044C\\u043C\\u043E \\u0441 \\u0438\\u043D\\u0441\\u0442\\u0440\\u0443\\u043A\\u0446\\u0438\\u0435\\u0439 \\u043F\\u043E \\u0432\\u043E\\u0441\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u044E \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430. \\u0415\\u0441\\u043B\\u0438 \\u0432\\u044B \\u0437\\u0430\\u0431\\u044B\\u043B\\u0438 \\u0441\\u0432\\u043E\\u0439 \\u043B\\u043E\\u0433\\u0438\\u043D, \\u0441\\u0432\\u044F\\u0436\\u0438\\u0442\\u0435\\u0441\\u044C \\u0441 \\u043F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u043E\\u0439: \",/*#__PURE__*/_jsx(Link,{to:'',children:\"support@qrooto.ru\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:r.register__form__buttons,children:[/*#__PURE__*/_jsx(Link,{to:'/Login',className:r.register__form__buttons__btn,children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(\"button\",{onClick:LoginRestoring,className:email.length>0?r.register__form__codeBlue:r.register__form__code,children:\"\\u0412\\u043E\\u0441\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\"})]})]})]})})});}","map":{"version":3,"names":["Link","useNavigate","r","logo","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Restoring","_useState","_useState2","_slicedToArray","email","setEmail","handleEmailChange","e","target","value","navigate","_useState3","_useState4","ErrorValid","setErrorValid","apiUrl","process","env","REACT_APP_API_URL","loginEndpoint","LoginRestoring","preventDefault","post","concat","headers","then","res","console","log","request","status","catch","error","children","className","section__register","register","src","register__logo","alt","register__subtitle","register__form","onSubmit","register__form__label","register__form__label__title","type","autoComplete","register__form__label__input","register__form__label__input__error","join","onChange","strength__label","register__form__text","to","register__form__buttons","register__form__buttons__btn","onClick","length","register__form__codeBlue","register__form__code"],"sources":["/home/t1/Рабочий стол/kuplatform/admin-stage/src/components/Auth/Restoring.jsx"],"sourcesContent":["\nimport { Link, useNavigate } from 'react-router-dom'\nimport r from './Register.module.scss'\nimport logo from '../img/logoReg.svg'\nimport { useState } from 'react';\nimport axios from 'axios'\n\nexport default function Restoring () {\n    \n\n    const [email, setEmail] = useState('');\n\n    const handleEmailChange = (e) => {\n\n        setEmail(e.target.value);\n\n    };\n\n    const navigate = useNavigate()\n\n    const [ErrorValid, setErrorValid]= useState(false)\n\n    const apiUrl = process.env.REACT_APP_API_URL;\n\n    const loginEndpoint = '/api/auth/reset_password';\n    \n    const LoginRestoring = (e) => {\n\n        e.preventDefault();\n    \n        axios\n          .post(`${apiUrl}${loginEndpoint}`, {\n\n            email,\n\n          }, {\n            headers: {\n              'Content-Type': 'application/json',\n            },\n          })\n          .then((res) => { \n\n            console.log(res);\n\n            if (res.request.status === 200) {\n\n                navigate('/shipped');\n\n                console.log(res);\n\n              } else {\n\n                navigate('/restoring');\n\n                console.log(res);\n\n              }\n          })\n\n          .catch((error) => {\n          \n            setErrorValid(true);\n\n          });\n\n      };\n\n    return (\n\n        <>\n\n        <div className={r.section__register}>\n                \n                <div className={r.register}>\n                    \n                    <img src={logo} className={r.register__logo} alt=\"svg\" />\n\n                    <p className={r.register__subtitle}>\n                    Восстановление доступа\n                    </p>\n\n                    <form className={r.register__form} onSubmit={LoginRestoring}>\n                        \n                        <label className={r.register__form__label}>\n\n                            <p className={r.register__form__label__title}>\n                            Email\n                            </p>\n\n                            <input type=\"text\" autoComplete=\"new-password\"\n                             className={ErrorValid ? [r.register__form__label__input, r.register__form__label__input__error].join(' ') : [r.register__form__label__input]}\n                            onChange={handleEmailChange}\n                            />\n\n                            {ErrorValid &&\n\n                            <p className={r.strength__label}>Не найден аккаунт с таким email.</p>\n\n                            }\n                            \n                        </label>\n\n\n                        <p className={r.register__form__text}> На почту придет письмо с инструкцией по восстановлению доступа. Если вы забыли свой логин, свяжитесь с поддержкой: <Link to={''}>support@qrooto.ru</Link></p>\n\n                        <div className={r.register__form__buttons}>\n\n                        <Link to={'/Login'} className={r.register__form__buttons__btn}>\n                            Назад\n                        </Link>    \n{/* \n                        <Link to={'/shipped'} className={email.length > 0 ? r.register__form__codeBlue : r.register__form__code}>\n                        Восстановить доступ\n                        </Link>                             */}\n\n\n                        <button onClick={LoginRestoring} className={email.length > 0 ? r.register__form__codeBlue : r.register__form__code}>\n                        Восстановить доступ\n                        </button>  \n                            \n                        </div>\n\n\n\n                        \n                    </form>\n\n                </div>\n\n            </div>\n\n        </>\n\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}