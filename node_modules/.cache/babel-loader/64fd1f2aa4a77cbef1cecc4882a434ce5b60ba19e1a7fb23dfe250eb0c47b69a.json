{"ast":null,"code":"import _slicedToArray from\"/home/t1/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/kuplatform/admin-stage/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{BrowserRouter,Navigate,Route,Routes,useLocation}from'react-router-dom';import'./style/App.css';import ScrollTop from'./utils/scrollTop';import Header from'./components/Header/Header';import Register from'./components/Auth/Register';import Restoring from'./components/Auth/Restoring';import Shipped from'./components/Auth/Shipped';import NewPass from'./components/Auth/NewPass';import Admin from'./pages/Admin/Admin';import NotFound from'./pages/notPages/NoPages';import{useEffect,useState}from'react';import Invitation from'./pages/Invitation/Invitation';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var hasAccessToken=!!localStorage.getItem('access_token');var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userMe=_useState2[0],setUserMe=_useState2[1];var apiUrl=process.env.REACT_APP_API_URL;var loginEndpoint='/api/users_admin/me';var token=localStorage.getItem('access_token');useEffect(function(){var url=\"\".concat(apiUrl).concat(loginEndpoint);axios.get(url,{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}}).then(function(res){setUserMe(res.data.user.role);}).catch(function(error){});},[]);return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(ScrollTop,{}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/restoring\",element:/*#__PURE__*/_jsx(Restoring,{})}),/*#__PURE__*/_jsx(Route,{path:\"/shipped\",element:/*#__PURE__*/_jsx(Shipped,{})}),/*#__PURE__*/_jsx(Route,{path:\"/newpassword\",element:/*#__PURE__*/_jsx(NewPass,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin_home\",element:/*#__PURE__*/_jsx(Admin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/invitation\",element:/*#__PURE__*/_jsx(Invitation,{userMe:userMe})})]})]})});}export default App;","map":{"version":3,"names":["BrowserRouter","Navigate","Route","Routes","useLocation","ScrollTop","Header","Register","Restoring","Shipped","NewPass","Admin","NotFound","useEffect","useState","Invitation","axios","jsx","_jsx","jsxs","_jsxs","App","hasAccessToken","localStorage","getItem","_useState","_useState2","_slicedToArray","userMe","setUserMe","apiUrl","process","env","REACT_APP_API_URL","loginEndpoint","token","url","concat","get","headers","then","res","data","user","role","catch","error","children","className","path","element"],"sources":["/home/t1/Рабочий стол/kuplatform/admin-stage/src/App.js"],"sourcesContent":["import { BrowserRouter, Navigate, Route, Routes, useLocation } from 'react-router-dom';\nimport './style/App.css';\n\nimport ScrollTop from './utils/scrollTop';\nimport Header from './components/Header/Header';\nimport Register from './components/Auth/Register';\nimport Restoring from './components/Auth/Restoring';\nimport Shipped from './components/Auth/Shipped';\nimport NewPass from './components/Auth/NewPass';\nimport Admin from './pages/Admin/Admin';\nimport NotFound from './pages/notPages/NoPages';\nimport { useEffect, useState } from 'react';\nimport Invitation from './pages/Invitation/Invitation';\nimport axios from 'axios';\n\nfunction App() {\n\n  const hasAccessToken = !!localStorage.getItem('access_token');\n\n  const [userMe, setUserMe] = useState([])\n\n  const apiUrl = process.env.REACT_APP_API_URL;\n\n  const loginEndpoint = '/api/users_admin/me';\n\n  const token = localStorage.getItem('access_token');\n\n  useEffect(() => {\n  \n      const url = `${apiUrl}${loginEndpoint}`;\n  \n          axios.get(url, {\n\n              headers: {\n                  'Content-Type': 'application/json',\n                  'Authorization': `Bearer ${token}` \n              }\n\n          })\n          .then(res => {\n\n            setUserMe(res.data.user.role)\n\n          })\n\n          .catch(error => {\n              \n          });\n\n  }, []);\n\n\n  return (\n\n    <BrowserRouter>\n\n    <div className=\"app\">\n\n      <ScrollTop />\n\n      {/* {hasAccessToken && <Header />} */}\n\n      <Header />\n\n        <Routes>\n\n          <Route path='/'  element={<Register />} />\n\n          <Route path='/restoring'  element={<Restoring />} />\n\n          <Route path='/shipped'  element={<Shipped />} />\n\n          <Route path='/newpassword'  element={<NewPass />} />\n\n           <Route\n\n            path=\"/admin_home\"\n\n            element={ <Admin />}\n\n          />\n\n          <Route\n\n            path=\"/invitation\"\n\n            element={ <Invitation userMe={userMe} />}\n\n          />\n\n          {/* <Route path='*' element={<NotFound />} /> */}\n\n        </Routes>\n\n    </div>\n    \n    </BrowserRouter>\n  \n  );\n}\n\n\n\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}