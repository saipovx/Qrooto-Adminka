{"ast":null,"code":"import _slicedToArray from\"/home/t1/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/kuplatform/admin-stage/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{BrowserRouter,Navigate,Route,Routes,useLocation}from'react-router-dom';import'./style/App.css';import ScrollTop from'./utils/scrollTop';import Header from'./components/Header/Header';import Register from'./components/Auth/Register';import Restoring from'./components/Auth/Restoring';import Shipped from'./components/Auth/Shipped';import NewPass from'./components/Auth/NewPass';import Admin from'./pages/Admin/Admin';import NotFound from'./pages/notPages/NoPages';import{useEffect,useState}from'react';import Invitation from'./pages/Invitation/Invitation';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userMe=_useState2[0],setUserMe=_useState2[1];var apiUrl=process.env.REACT_APP_API_URL;var loginEndpoint='/api/users_admin/me';var token=localStorage.getItem('access_token');useEffect(function(){var url=\"\".concat(apiUrl).concat(loginEndpoint);axios.get(url,{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}}).then(function(res){setUserMe(res.data.user.role);}).catch(function(error){});},[]);return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(ScrollTop,{}),token?/*#__PURE__*/_jsx(Header,{}):null,/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/restoring\",element:/*#__PURE__*/_jsx(Restoring,{})}),/*#__PURE__*/_jsx(Route,{path:\"/shipped\",element:/*#__PURE__*/_jsx(Shipped,{})}),/*#__PURE__*/_jsx(Route,{path:\"/newpassword/:token\",element:/*#__PURE__*/_jsx(NewPass,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin_home\",element:/*#__PURE__*/_jsx(Admin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/invitation\",element:/*#__PURE__*/_jsx(Invitation,{userMe:userMe})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/404\"})}),/*#__PURE__*/_jsx(Route,{path:\"/404\",element:/*#__PURE__*/_jsx(NotFound,{})})]})]})});}export default App;","map":{"version":3,"names":["BrowserRouter","Navigate","Route","Routes","useLocation","ScrollTop","Header","Register","Restoring","Shipped","NewPass","Admin","NotFound","useEffect","useState","Invitation","axios","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","userMe","setUserMe","apiUrl","process","env","REACT_APP_API_URL","loginEndpoint","token","localStorage","getItem","url","concat","get","headers","then","res","data","user","role","catch","error","children","className","path","element","to"],"sources":["/home/t1/Рабочий стол/kuplatform/admin-stage/src/App.js"],"sourcesContent":["import { BrowserRouter, Navigate, Route, Routes, useLocation } from 'react-router-dom';\nimport './style/App.css';\n\nimport ScrollTop from './utils/scrollTop';\nimport Header from './components/Header/Header';\nimport Register from './components/Auth/Register';\nimport Restoring from './components/Auth/Restoring';\nimport Shipped from './components/Auth/Shipped';\nimport NewPass from './components/Auth/NewPass';\nimport Admin from './pages/Admin/Admin';\nimport NotFound from './pages/notPages/NoPages';\nimport { useEffect, useState } from 'react';\nimport Invitation from './pages/Invitation/Invitation';\nimport axios from 'axios';\n\nfunction App() {\n\n  const [userMe, setUserMe] = useState([])\n\n  const apiUrl = process.env.REACT_APP_API_URL;\n\n  const loginEndpoint = '/api/users_admin/me';\n\n  const token = localStorage.getItem('access_token');\n\n  useEffect(() => {\n  \n      const url = `${apiUrl}${loginEndpoint}`;\n  \n          axios.get(url, {\n\n              headers: {\n                  'Content-Type': 'application/json',\n                  'Authorization': `Bearer ${token}` \n              }\n\n          })\n          .then(res => {\n\n            setUserMe(res.data.user.role)\n\n          })\n\n          .catch(error => {\n              \n          });\n\n  }, []);\n  \n\n  return (\n\n    <BrowserRouter>\n\n    <div className=\"app\">\n\n      <ScrollTop />\n\n      {token ? <Header /> : null }\n\n      <Header />\n\n        <Routes>\n\n          <Route path='/'  element={<Register />} />\n\n          <Route path='/restoring'  element={<Restoring />} />\n\n          <Route path='/shipped'  element={<Shipped />} />\n\n          <Route path='/newpassword/:token'  element={<NewPass />} />\n\n           <Route\n\n            path=\"/admin_home\"\n\n            element={ <Admin />}\n\n          />\n\n          <Route\n\n            path=\"/invitation\"\n\n            element={ <Invitation userMe={userMe} />}\n\n          />\n\n          <Route path=\"*\" element={<Navigate to=\"/404\" />} />\n\n          <Route path='/404' element={<NotFound />} />\n\n        </Routes>\n\n    </div>\n    \n    </BrowserRouter>\n  \n  );\n}\n\n\n\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}